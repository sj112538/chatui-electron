<template>
  <div class="chat-tool-bar">
    <div class="chat-tool-item-left">
      <div v-if="nowActive !== ''" class="toolBoxContent">
        <cmd v-if="nowActive === 'cmdActive'" />
        <pre-text v-if="nowActive === 'textActive'" />
      </div>
      <div class="toolBox">
        <div @click="active('cmdActive')" :class="cmdActive ? 'chat-tool active' : 'chat-tool'">
          <svg t="1680447339520" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
            p-id="2906" width="25" height="25">
            <path d="M917.504 835.584H106.496V188.416h810.496l0.512 647.168zM186.88 755.2h650.752v-486.4H186.88v486.4z"
              fill="#2B85FB" p-id="2907"></path>
            <path
              d="M343.04 648.704l-56.32-56.32 88.064-88.064L286.72 415.744l56.32-56.832 144.896 144.896L343.04 648.704z m163.84-63.488h230.4v79.872H506.88v-79.872z"
              fill="#2B85FB" p-id="2908"></path>
          </svg>
        </div>
        <div style="margin-top: 0.5px;" class="textList" @click="active('textActive')"
          :class="textActive ? 'textList active' : 'chat-tool'">
          <svg data-v-b5f035e9="" t="1680784193588" class="icon" viewBox="0 0 1024 1024" version="1.1"
            xmlns="http://www.w3.org/2000/svg" p-id="1840" width="20" height="20">
            <path data-v-b5f035e9=""
              d="M960 96H64c-35.3 0-64 28.6-64 64v752c0 8.8 7.2 16 16 16h992c8.8 0 16-7.2 16-16V160c0-35.4-28.7-64-64-64zM480 860c0 2.2-1.8 4-4 4H68c-2.2 0-4-1.8-4-4V292c0-2.2 1.8-4 4-4h408c2.2 0 4 1.8 4 4v568z m480 0c0 2.2-1.8 4-4 4H548c-2.2 0-4-1.8-4-4V292c0-2.2 1.8-4 4-4h408c2.2 0 4 1.8 4 4v568z"
              p-id="1841" data-spm-anchor-id="a313x.7781069.0.i6" class="selected" fill="#2B85FB"></path>
          </svg>
        </div>
      </div>
    </div>
    <div class="chat-tool-item-right">
      <div @click="paramActive = !paramActive" :class="paramActive ? 'chat-tool active' : 'chat-tool'">
        <svg t="1680592509860" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="1338" width="25" height="25">
          <path
            d="M732.69335938 550.46313477c10.62927247 0 17.69897461 6.9708252 17.6989746 17.45178223v24.47204589c14.18884278 7.02026367 24.81811523 13.99108887 35.4473877 21.01135254l24.76867676-13.99108887c7.11914063-3.51013184 17.74841309 0 21.25854492 6.9708252l24.81811523 41.9732666c3.55957031 6.9708252 0 17.45178223-7.06970214 20.96191406l-21.25854492 13.99108886c3.51013184 6.9708252 3.51013184 13.94165039 3.51013183 20.96191407 0 6.9708252-3.51013184 13.99108887-3.51013183 20.96191406l21.25854492 10.48095703c7.06970214 3.51013184 10.62927247 13.99108887 3.51013183 24.4720459l-24.76867675 41.9732666c-3.55957031 10.48095703-14.18884278 10.48095703-21.25854492 6.9708252l-21.25854493-13.99108887c-10.62927247 10.48095703-21.25854492 17.5012207-35.4473877 21.01135254v24.42260742c0 10.53039551-7.06970214 17.5012207-17.69897461 17.50122071h-46.02722168c-10.62927247 0-17.74841309-6.9708252-17.74841308-17.50122071v-24.42260742c-14.1394043-3.51013184-24.76867676-13.99108887-35.39794922-21.01135254l-21.25854492 13.99108887c-7.06970214 3.46069336-17.69897461 0-21.25854492-6.9708252l-24.76867677-41.9732666c-3.55957031-6.9708252 0-17.45178223 7.06970216-20.96191406l21.25854492-13.99108887c-3.55957031-6.9708252-3.55957031-13.99108887-3.55957031-20.96191406 0-7.02026367 3.55957031-13.99108887 3.55957031-20.96191407l-21.25854492-13.99108886c-10.62927247-3.46069336-10.62927247-13.99108887-7.06970215-20.96191406l24.76867676-41.97326661c3.55957031-10.48095703 14.18884278-10.48095703 21.25854492-6.97082519l21.25854492 13.99108886c10.62927247-10.53039551 21.25854492-17.5012207 35.39794922-21.01135253v-24.4720459c0-10.48095703 7.11914063-17.45178223 17.74841309-17.45178222zM388.40380859 808.63085938a24.71923828 24.71923828 0 1 1 0 49.43847656h-197.75390625a24.71923828 24.71923828 0 1 1 0-49.43847657h197.75390625z m0-98.87695313a24.71923828 24.71923828 0 1 1 0 49.43847656h-197.75390625a24.71923828 24.71923828 0 1 1 0-49.43847656h197.75390625z m323.03100586-54.4317627c-28.32824708 0-49.586792 20.96191406-49.58679199 48.9440918 0 27.98217773 21.25854492 48.9440918 49.58679199 48.94409179s49.586792-20.96191406 49.586792-48.94409179c0-27.98217773-21.25854492-48.9440918-49.586792-48.9440918zM445.75244141 165.93066406c17.74841309 0 28.37768555 13.99108887 28.37768554 27.98217774v41.92382812c21.25854492 7.02026367 38.95751953 17.5012207 56.65649414 31.49230958l35.4473877-21.01135255c14.1394043-6.9708252 31.83837891-3.46069336 38.95751953 10.48095703l38.95751954 66.4453125c7.06970214 13.99108887 3.51013184 31.44287109-10.62927247 38.46313477l-35.44738769 20.96191406c3.55957031 10.48095703 3.55957031 20.96191406 3.55957031 31.4428711 0 10.48095703 0 20.96191406-3.55957031 31.49230957l35.44738769 20.96191406c14.1394043 6.9708252 17.69897461 24.4720459 10.62927247 38.46313477l-38.95751954 66.39587402c-10.62927247 13.99108887-24.81811523 17.5012207-38.95751953 10.48095703L530.78662109 560.9440918c-14.18884278 13.99108887-35.39794922 24.4720459-56.65649414 31.44287109v41.97326661c0 13.99108887-14.18884278 27.93273926-28.37768554 31.44287109H367.83740234a27.73498536 27.73498536 0 0 1-28.32824707-27.98217773v-41.92382813a306.56799317 306.56799317 0 0 1-56.70593261-34.95300293l-35.39794922 20.96191406c-14.18884278 7.02026367-31.88781739 3.46069336-38.95751953-10.48095703l-38.95751954-66.39587403c-7.11914063-13.99108887-3.55957031-31.49230957 10.62927247-38.46313476l35.39794921-20.96191406c-3.55957031-10.53039551-3.55957031-21.01135254-3.55957031-31.49230957 0-10.48095703 3.55957031-20.96191406 3.55957031-31.4428711l-35.39794922-20.96191406C165.93066406 351.17663574 162.37109375 337.23498535 169.49023437 323.24389648l38.95751954-66.4453125c7.06970214-13.94165039 24.76867676-17.45178223 38.95751953-10.48095703l35.39794922 21.01135255a180.30212403 180.30212403 0 0 1 56.70593262-31.49230958v-41.92382812c0-13.99108887 14.1394043-27.98217773 28.32824706-27.98217774z m-38.95751954 167.79418946c-46.02722168 0-81.47460938 34.95300293-81.47460937 80.38696289 0 45.48339844 35.4473877 80.38696289 81.47460938 80.38696289 46.07666016 0 81.47460938-34.95300293 81.47460937-80.38696289 0-45.43395997-35.39794922-80.38696289-81.47460938-80.38696289z"
            fill="#1296db" p-id="1339"></path>
        </svg>
      </div>
    </div>
  </div>
</template>

<script setup lang='ts'>
import { useCmd } from './tools/cmd';
import { usePreText } from './tools/preText';
const { cmdActive, paramActive } = useCmd()
const { textActive } = usePreText()
const nowActive = ref<string>('')
const active = (name: string) => {
  if (nowActive.value !== name) {
    nowActive.value = name
  } else {
    nowActive.value = ''
  }
}
</script>

<style lang="scss" scoped>
.toolBoxContent {
  bottom: 100px;
  position: absolute;
  z-index: 2;
  width: 100%;
  background: #fff;
  height: 150px;
  overflow-y: auto;
  font-family: Arial;
  cursor: text;
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

.chat-tool-bar {
  width: 100%;
  display: flex;
  justify-content: space-between;
}

.chat-tool {
  display: flex;
  justify-content: center;
  cursor: pointer;
  margin-right: 5px;
}

.active {
  background: #5d5b5b10;
}

.toolBox {
  display: flex;
}

.textList {
  display: flex;
  align-items: center;
  cursor: pointer;
}
</style>